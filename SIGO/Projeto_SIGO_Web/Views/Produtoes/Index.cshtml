@model IEnumerable<Projeto_SIGO_Web.Models.Produto>

    @{
    ViewBag.Title = "Index";
    }

    <h2>Lista de Produtos</h2>

    <p>
        @Html.ActionLink("Adicionar Produto", "Create", new { @class = "btn btn-outline-primary" } )
    </p>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Nome)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Descricao)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Valor)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Estoque)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.EstoqueMaximo)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.EstoqueMinimo)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Fornecedor.Nome)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Marca.Nome)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Foto)
            </th>
            <th>Ações</th>
        </tr>

        @foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Nome)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Descricao)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Valor)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Estoque)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.EstoqueMaximo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.EstoqueMinimo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Fornecedor.Nome)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Marca.Nome)
            </td>
            <td>
                @if (item.Foto != null)
        {
            var base64 = Convert.ToBase64String(item.Foto);
            var imgSrc = String.Format("data:image/gif;base64,{0}", base64);

                <img src='@imgSrc' style="max-width:100px; max-height:100px;" />
        }
            </td>
            <td>
                @Html.ActionLink("Editar", "Edit", new { id = item.ID }, new { @class = "btn btn-primary" } ) |
                <button type="button" class="btn btn-danger" data-item="@item.ID">Excluir</button>
            </td>
        </tr>
}

    </table>
    @section Scripts {
        @Scripts.Render("~/bundles/jqueryval")
        <script src="~/js/Mascara.js"></script>
        <script src="~/js/Produto.js"></script>
    }
